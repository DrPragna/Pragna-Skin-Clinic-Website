/* ===========================================
   PRAGNA SKIN CLINIC - WORLD CLASS DESIGN SYSTEM
   =========================================== */

/* Google Fonts - Premium Typography Stack */
@import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500&family=Satoshi:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400&family=JetBrains+Mono:wght@300;400;500&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===========================================
   CSS CUSTOM PROPERTIES - DESIGN TOKENS
   =========================================== */
:root {
  /* Typography */
  --font-display: 'Cormorant Garamond', Georgia, serif;
  --font-serif: 'Cormorant Garamond', Georgia, serif;
  --font-sans: 'Satoshi', system-ui, sans-serif;
  --font-mono: 'JetBrains Mono', monospace;
  
  /* Brand Colors */
  --color-maroon: #722B2B;
  --color-maroon-light: #8B3A3A;
  --color-maroon-dark: #5A2222;
  --color-rose-gold: #B76E79;
  --color-terracotta: #EAC7BB;
  --color-terracotta-light: #F3D7CD;
  --color-cream: #FFF8F0;
  --color-cream-warm: #FFF5EB;
  --color-beige: #F9F7F6;
  --color-beige-warm: #FAF4F0;
  --color-black: #0A0A0A;
  --color-black-soft: #1A1A1A;
  --color-charcoal: #111111;
  --color-dust-red: #C35A4A;
  
  /* Semantic Tokens */
  --color-primary: var(--color-maroon);
  --color-accent: var(--color-rose-gold);
  --color-background: var(--color-cream);
  --color-surface: var(--color-beige);
  --color-text: var(--color-charcoal);
  --color-text-muted: rgba(17, 17, 17, 0.6);
  
  /* Spacing Scale */
  --space-xs: 0.5rem;
  --space-sm: 1rem;
  --space-md: 1.5rem;
  --space-lg: 2rem;
  --space-xl: 3rem;
  --space-2xl: 4rem;
  --space-3xl: 6rem;
  --space-4xl: 8rem;
  
  /* Animation Timing */
  --ease-smooth: cubic-bezier(0.4, 0, 0.2, 1);
  --ease-bounce: cubic-bezier(0.34, 1.56, 0.64, 1);
  --ease-expo: cubic-bezier(0.16, 1, 0.3, 1);
  --ease-expo-in-out: cubic-bezier(0.87, 0, 0.13, 1);
  --duration-fast: 150ms;
  --duration-normal: 300ms;
  --duration-slow: 500ms;
  --duration-slower: 800ms;
  
  /* Custom Cursor Position */
  --cursor-x: 0;
  --cursor-y: 0;
}

/* ===========================================
   LENIS SMOOTH SCROLL
   =========================================== */
html.lenis, html.lenis body {
  height: auto;
}

.lenis.lenis-smooth {
  scroll-behavior: auto !important;
}

.lenis.lenis-smooth [data-lenis-prevent] {
  overscroll-behavior: contain;
}

.lenis.lenis-stopped {
  overflow: hidden;
}

.lenis.lenis-scrolling iframe {
  pointer-events: none;
}

/* ===========================================
   BASE STYLES
   =========================================== */
@layer base {
  html {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    /* Prevent horizontal scroll on Android - must be on html AND body */
    overflow-x: hidden;
    /* Prevent Android text auto-resizing at 100% zoom */
    -webkit-text-size-adjust: 100%;
    text-size-adjust: 100%;
  }
  
  body {
    @apply bg-cream text-charcoal antialiased;
    font-family: var(--font-sans);
    font-weight: 400;
    font-size: 16px;
    line-height: 1.7;
    overflow-x: hidden;
    /* Extra Android fix: contain paint operations within body */
    overflow-y: auto;
    overscroll-behavior-x: none;
  }
  
  /* Typography Hierarchy */
  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-display);
    font-weight: 400;
    text-wrap: balance;
  }
  
  h1 {
    @apply text-4xl leading-[1.1] tracking-tight md:text-display-hero;
    font-weight: 300;
  }
  
  h2 {
    @apply text-3xl leading-tight tracking-tight md:text-display-lg;
  }
  
  h3 {
    @apply text-2xl leading-snug md:text-display-md;
  }
  
  h4 {
    @apply text-xl md:text-display-sm;
  }
  
  p {
    @apply text-body leading-relaxed;
    color: var(--color-text-muted);
  }
  
  /* Improved focus states */
  :focus-visible {
    @apply outline-none ring-2 ring-rose-gold ring-offset-2 ring-offset-cream;
  }
  
  /* Premium Selection */
  ::selection {
    background: var(--color-rose-gold);
    color: white;
  }
  
  /* Smooth scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
  }
  
  ::-webkit-scrollbar-track {
    background: var(--color-cream);
  }
  
  ::-webkit-scrollbar-thumb {
    background: var(--color-maroon);
    border-radius: 4px;
  }
  
  ::-webkit-scrollbar-thumb:hover {
    background: var(--color-maroon-light);
  }
}

/* ===========================================
   COMPONENT STYLES
   =========================================== */
@layer components {
  /* Layout */
  .section-container {
    @apply max-w-7xl mx-auto px-6 lg:px-8;
  }
  
  .section-container-wide {
    @apply max-w-[90rem] mx-auto px-6 lg:px-8;
  }
  
  .section-container-full {
    @apply w-full px-6 lg:px-12;
  }
  
  .section-padding {
    @apply py-10 md:py-14 lg:py-20;
  }
  
  .section-padding-lg {
    @apply py-12 md:py-16 lg:py-24;
  }

  /* ===========================================
     PREMIUM BUTTONS
     =========================================== */
  .btn-primary {
    @apply px-8 py-4 bg-maroon text-cream rounded-full font-medium 
           hover:bg-maroon-dark
           transition-all duration-300
           active:scale-[0.98];
  }
  
  .btn-secondary {
    @apply px-8 py-4 border border-charcoal/20 text-charcoal rounded-full font-medium
           hover:border-maroon hover:text-maroon transition-all duration-300
           active:scale-[0.98];
  }
  
  .btn-ghost {
    @apply px-6 py-3 text-charcoal font-medium rounded-full
           hover:bg-black/5 transition-all duration-300;
  }
  
  .btn-icon {
    @apply w-14 h-14 rounded-full border border-charcoal/10 
           flex items-center justify-center
           hover:bg-maroon hover:border-maroon hover:text-cream
           transition-all duration-300;
  }

  /* ===========================================
     CARDS
     =========================================== */
  .card {
    @apply bg-beige rounded-2xl p-5 md:rounded-3xl md:p-8 
           transition-all duration-500;
  }
  
  .card-hover {
    @apply hover:shadow-dramatic hover:-translate-y-1;
  }
  
  .card-glass {
    @apply bg-white/60 backdrop-blur-xl border border-white/20 rounded-3xl p-8;
  }
  
  .card-dark {
    @apply bg-black text-cream rounded-3xl p-8;
  }

  /* ===========================================
     GRADIENTS
     =========================================== */
  .gradient-hero {
    background: linear-gradient(
      135deg, 
      var(--color-cream) 0%, 
      var(--color-terracotta-light) 50%,
      var(--color-cream-warm) 100%
    );
  }
  
  .gradient-warm {
    background: linear-gradient(
      135deg, 
      var(--color-terracotta-light) 0%, 
      var(--color-beige-warm) 50%, 
      var(--color-beige) 100%
    );
  }
  
  .gradient-dramatic {
    background: linear-gradient(
      180deg,
      var(--color-black) 0%,
      var(--color-maroon-dark) 100%
    );
  }
  
  .gradient-rose {
    background: linear-gradient(
      135deg,
      var(--color-rose-gold) 0%,
      var(--color-maroon) 100%
    );
  }
  
  .gradient-text {
    @apply bg-clip-text text-transparent;
    background: linear-gradient(
      135deg,
      var(--color-maroon) 0%,
      var(--color-rose-gold) 100%
    );
  }

  /* ===========================================
     TEXT EFFECTS
     =========================================== */
  .text-outline {
    -webkit-text-stroke: 1px currentColor;
    -webkit-text-fill-color: transparent;
  }
  
  .text-outline-thick {
    -webkit-text-stroke: 2px currentColor;
    -webkit-text-fill-color: transparent;
  }
  
  /* Split text animation ready */
  .split-text .char {
    display: inline-block;
    transform: translateY(100%);
    opacity: 0;
    transition: transform 0.6s var(--ease-expo), opacity 0.6s var(--ease-expo);
  }
  
  .split-text.animate .char {
    transform: translateY(0);
    opacity: 1;
  }

  /* ===========================================
     REVEAL ANIMATIONS
     =========================================== */
  .reveal {
    opacity: 0;
    transform: translateY(60px);
    transition: all 1s var(--ease-expo);
  }
  
  .reveal.active {
    opacity: 1;
    transform: translateY(0);
  }
  
  .reveal-fade {
    opacity: 0;
    transition: opacity 0.8s var(--ease-smooth);
  }
  
  .reveal-fade.active {
    opacity: 1;
  }
  
  .reveal-scale {
    opacity: 0;
    transform: scale(0.9);
    transition: all 0.8s var(--ease-expo);
  }
  
  .reveal-scale.active {
    opacity: 1;
    transform: scale(1);
  }
  
  .reveal-mask {
    clip-path: inset(0 100% 0 0);
    transition: clip-path 1.2s var(--ease-expo);
  }
  
  .reveal-mask.active {
    clip-path: inset(0 0 0 0);
  }

  /* Stagger delays */
  .stagger-1 { transition-delay: 0.1s; }
  .stagger-2 { transition-delay: 0.2s; }
  .stagger-3 { transition-delay: 0.3s; }
  .stagger-4 { transition-delay: 0.4s; }
  .stagger-5 { transition-delay: 0.5s; }
  .stagger-6 { transition-delay: 0.6s; }
  .stagger-7 { transition-delay: 0.7s; }
  .stagger-8 { transition-delay: 0.8s; }

  /* ===========================================
     MAGNETIC EFFECT
     =========================================== */
  .magnetic {
    transition: transform 0.3s var(--ease-smooth);
  }

  /* ===========================================
     IMAGE TREATMENTS
     =========================================== */
  .image-reveal {
    @apply overflow-hidden;
  }
  
  .image-reveal img,
  .image-reveal video {
    @apply w-full h-full object-cover;
    transition: transform 0.7s cubic-bezier(0.16, 1, 0.3, 1);
  }
  
  .image-reveal:hover img,
  .image-reveal:hover video {
    @apply scale-105;
  }
  
  .image-parallax {
    will-change: transform;
  }

  /* ===========================================
     DECORATIVE ELEMENTS
     =========================================== */
  /* Radiance Lines - Signature visual element */
  .radiance-line {
    @apply absolute bg-gradient-to-r from-transparent via-rose-gold/30 to-transparent;
    height: 1px;
    width: 200px;
  }
  
  /* Floating orbs */
  .floating-orb {
    @apply absolute rounded-full blur-3xl opacity-30;
    animation: float 8s ease-in-out infinite;
  }
  
  /* Cell pattern overlay */
  .cell-pattern {
    background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0L60 17.32v34.64L30 60 0 51.96V17.32L30 0z' fill='none' stroke='%23722B2B' stroke-opacity='0.03'/%3E%3C/svg%3E");
    background-size: 60px 60px;
  }

  /* ===========================================
     SPECIAL EFFECTS
     =========================================== */
  /* Glass morphism */
  .glass {
    @apply bg-white/60 backdrop-blur-xl border border-white/20;
  }
  
  .glass-dark {
    @apply bg-black/60 backdrop-blur-xl border border-white/10;
  }
  
  /* Glow effects */
  .glow-maroon {
    box-shadow: 0 0 60px rgba(114, 43, 43, 0.3);
  }
  
  .glow-rose {
    box-shadow: 0 0 60px rgba(183, 110, 121, 0.3);
  }

  /* ===========================================
     CURSOR
     =========================================== */
  .cursor-dot {
    @apply fixed w-2 h-2 bg-maroon rounded-full pointer-events-none z-[9999];
    transform: translate(-50%, -50%);
    transition: transform 0.1s ease-out, width 0.2s, height 0.2s, background 0.2s;
  }
  
  .cursor-outline {
    @apply fixed w-10 h-10 border border-maroon/30 rounded-full pointer-events-none z-[9998];
    transform: translate(-50%, -50%);
    transition: transform 0.15s ease-out, width 0.2s, height 0.2s, border-color 0.2s;
  }
  
  .cursor-dot.hover {
    @apply w-4 h-4 bg-rose-gold;
  }
  
  .cursor-outline.hover {
    @apply w-16 h-16 border-rose-gold/50;
  }

  /* ===========================================
     LOADER
     =========================================== */
  .page-loader {
    @apply fixed inset-0 bg-cream z-[9999] flex items-center justify-center;
  }
  
  .loader-logo {
    @apply text-4xl font-display text-maroon;
    animation: pulseSoft 1.5s ease-in-out infinite;
  }
}

/* ===========================================
   UTILITY CLASSES
   =========================================== */
@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
  
  .perspective-1000 {
    perspective: 1000px;
  }
  
  .perspective-2000 {
    perspective: 2000px;
  }
  
  .transform-3d {
    transform-style: preserve-3d;
  }
  
  .backface-hidden {
    backface-visibility: hidden;
  }
  
  /* Hide scrollbar */
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
  
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  
  /* Custom scrollbar for megamenu */
  .custom-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: var(--color-maroon) transparent;
  }
  
  .custom-scrollbar::-webkit-scrollbar {
    width: 6px;
  }
  
  .custom-scrollbar::-webkit-scrollbar-track {
    background: transparent;
    margin: 2rem 0;
  }
  
  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: var(--color-maroon);
    border-radius: 3px;
  }
  
  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: var(--color-maroon-light);
  }
  
  /* Horizontal scroll snap */
  .snap-x-mandatory {
    scroll-snap-type: x mandatory;
  }
  
  .snap-start {
    scroll-snap-align: start;
  }
  
  .snap-center {
    scroll-snap-align: center;
  }
  
  /* Aspect ratios */
  .aspect-portrait {
    aspect-ratio: 3/4;
  }
  
  .aspect-landscape {
    aspect-ratio: 4/3;
  }
  
  .aspect-cinema {
    aspect-ratio: 21/9;
  }
  
  /* Clip paths */
  .clip-inset-0 {
    clip-path: inset(0);
  }
  
  .clip-inset-full {
    clip-path: inset(100% 0 0 0);
  }
}

/* ===========================================
   MEGA MENU BLUR EFFECT (Apple-style)
   =========================================== */
body.mega-menu-open #main-content {
  filter: blur(8px) brightness(0.7);
  transition: filter 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  pointer-events: none;
}

body:not(.mega-menu-open) #main-content {
  filter: blur(0) brightness(1);
  transition: filter 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* ===========================================
   GRAIN TEXTURE OVERLAY
   =========================================== */
.grain-overlay {
  @apply hidden md:block;
  position: fixed;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  pointer-events: none;
  z-index: 9998;
  opacity: 0.035;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
  animation: grain 8s steps(10) infinite;
}

/* ===========================================
   FLOATING ACTIONS
   =========================================== */
.floating-book-btn {
  @apply fixed bottom-6 right-6 z-50 
         px-6 py-4 bg-maroon text-cream 
         rounded-full font-medium shadow-dramatic
         flex items-center gap-2
         transition-all duration-500
         hover:shadow-glow-rose hover:scale-105
         active:scale-95;
}

.whatsapp-btn {
  @apply fixed bottom-6 left-6 z-50 
         w-14 h-14 bg-[#25D366] text-white 
         rounded-full shadow-lg
         flex items-center justify-center
         transition-all duration-300
         hover:scale-110 hover:shadow-xl
         active:scale-95;
}

/* Hide floating actions when mobile menu is open */
body.mobile-menu-open .floating-book-btn,
body.mobile-menu-open .whatsapp-btn {
  opacity: 0;
  pointer-events: none;
  transform: translateY(20px);
}

/* ===========================================
   RESPONSIVE TYPOGRAPHY
   =========================================== */
@media (max-width: 640px) {
  html {
    font-size: 15px;
  }
}

@media (min-width: 1536px) {
  html {
    font-size: 17px;
  }
}

@media (min-width: 1920px) {
  html {
    font-size: 18px;
  }
}

/* ===========================================
   REDUCED MOTION
   =========================================== */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
  
  html {
    scroll-behavior: auto;
  }
  
  .grain-overlay {
    animation: none;
  }
}

/* ===========================================
   PRINT STYLES
   =========================================== */
@media print {
  .grain-overlay,
  .floating-book-btn,
  .whatsapp-btn,
  .cursor-dot,
  .cursor-outline {
    display: none !important;
  }
}
